<html>
<body ng-controller="DetailsController">
<h1>Track Information</h1>

<div>
    <image height="200px" width="200px" ng-src="{{model.details.album.images[1].url}}"></image>

</div>

<div>
    Name: {{model.details.name}}
</div>


<div>
    Id: {{model.details.id}}
</div>
<div>
    Album: {{model.details.album.name}}
</div>


<div ng-show="model.user">

    <button ng-show="model.liked" class="btn btn-danger"
            ng-click="model.removeLikedSong()">
        <span class="fa fa-star"></span>
    </button>

    <button ng-hide="model.liked" class="btn btn-secondary"
            ng-click="model.likeSong()">
        <span class="fa fa-star-o"></span>
    </button>

</div>

<div class="media">
    <div class="media-left">

        <audio ng-src="{{model.details.preview_url | trusted}}" audioplayer controls >
        </audio>

    </div>
</div>



<div ng-show="model.user">
    <div ng-show="model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Add Comment</button>
    </div>
    <div ng-show="!model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Update Comment</button>
    </div>
</div>

<div ng-show="model.commentFlag">
    <br>
    <label for="userComment">Comment:</label><br>
    <textarea id="userComment"class="form-control" value="" rows="2" ng-model="model.userComment">
    </textarea><br>
    <button ng-show="model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Save</button>
    <button ng-show="!model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Update</button>
    <button class="btn btn-danger" ng-click="model.commentFlag = !model.commentFlag">Cancel</button>
</div>

<div class="chat">
    <h3 class="comment-div">Comments : </h3>
    <h4 ng-hide="model.comments">No comments </h4>

    <div ng-show="model.comments">
        <div class="bubble me" ng-repeat="comment in model.comments">
            <a href="#/profile/{{comment.userID}}">{{comment.username}} : </a> {{comment.comment}}
        </div>
    </div>
</div>
</div>
</div>


</body>
</html>