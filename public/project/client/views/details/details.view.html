<html>
<div ng-controller="DetailsController">
<h1 class="page-header">Track Information</h1>

<div class="bg-color"align="center">
<div >
    <image height="200px" width="200px" ng-src="{{model.details.album.images[1].url}}"></image>

</div>

<div>
    Name: {{model.details.name}}
</div>


<!--<div>
    Id: {{model.details.id}}
</div>-->
<div>
    Album: {{model.details.album.name}}
</div>

</div>

<div class="like-btn" ng-show="model.user" align="center">

    <button ng-show="model.liked" class="btn btn-danger"
            ng-click="model.removeLikedSong()">
        <span class="fa fa-star"></span>
    </button>

    <button ng-hide="model.liked" class="btn btn-secondary"
            ng-click="model.likeSong()">
        <span class="fa fa-star-o"></span>
    </button>
</div>

<div class="media" align="center">
    <div class="media-left">

        <audio ng-src="{{model.details.preview_url | trusted}}" audioplayer controls >
        </audio>

    </div>
</div>




<div ng-show="model.user" align="center">
    <div ng-show="model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Add Comment</button>
    </div>
    <div ng-show="!model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Update Comment</button>
    </div>
</div>

<div ng-show="model.commentFlag" align="center">
    <br>
    <label for="userComment">Comment:</label><br>
    <textarea id="userComment"class="form-control" value="" rows="2" ng-model="model.userComment">
    </textarea><br>
    <button ng-show="model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Save</button>
    <button ng-show="!model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Update</button>
    <button class="btn btn-danger" ng-click="model.commentFlag = !model.commentFlag">Cancel</button>
</div>

<!--<div>
    <h3 class="comment-div">Comments : </h3>
    <h4 ng-hide="model.comments">No comments </h4>

    <div ng-show="model.comments">
        <div class="bubble me" ng-repeat="comment in model.comments">
            <a href="#/profile/{{comment.userID}}">{{comment.username}} : </a> {{comment.comment}}
        </div>
    </div>
</div> -->
    <h4 class="page-header">Comments </h4>
    <table class="table table-responsive">
        <thead>
        <tr>
        <th>User</th>
        <th>Comment</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="comment in model.comments">
        <td><a href="#/profile/{{comment.userID}}">{{comment.username}}</a></td>
        <td>{{comment.comment}}</td>
            <td></td>
        </tr>
</tbody>
        </table>

</div>
</div>


</body>
</html>

<!--
<table class="table table-striped table-responsive">
    <thead>
    <tr>
        <th>Name of the Track</th>
        <th>Preview</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="track in model.searchResult.tracks.items">
        <td>{{track.name}}</td>
        <td>

            <a href="#/details/{{track.id}}">Details</a></td>
        <td></td>
    </tr>
    </tbody>
</table>-->