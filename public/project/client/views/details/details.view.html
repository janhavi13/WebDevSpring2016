<html>
<div ng-controller="DetailsController">
<h1 class="page-header">Track Information</h1>



<div class="bg-color"align="center">
<div >
    <image height="200px" width="200px" ng-src="{{model.details.album.images[1].url}}"></image>

</div>

<div>
    Name: {{model.details.name}}
</div>


<!--<div>
    Id: {{model.details.id}}
</div>-->
<div>
    Album: {{model.details.album.name}}
</div>

</div>

<div class="like-btn" ng-show="model.user" align="center">

    <button ng-show="model.liked" class="btn btn-danger"
            ng-click="model.removeLikedSong()">

            <span class="glyphicon glyphicon-heart"></span>

    </button>

    <button ng-hide="model.liked" class="btn btn-secondary"
            ng-click="model.likeSong()">

            <span class="glyphicon glyphicon-heart"></span>

    </button>
</div>

<div class="media" align="center">
    <div class="media-left">

        <audio ng-src="{{model.details.preview_url | trusted}}" audioplayer controls >
        </audio>

    </div>
</div>




<div ng-show="model.user" align="center">
    <div ng-show="model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Add Comment</button>
    </div>
    <div ng-show="!model.isNewComment">
        <button ng-hide="model.commentFlag" class="btn btn-primary " ng-click="model.commentFlag = !model.commentFlag">Update Comment</button>
    </div>
</div>

<div ng-show="model.commentFlag" align="center">
    <br>
    <label for="userComment">Comment:</label><br>
    <textarea id="userComment"class="form-control" value="" rows="2" ng-model="model.userComment">
    </textarea><br>
    <button ng-show="model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Save</button>
    <button ng-show="!model.isNewComment" class="btn btn-primary" ng-click="model.updateComment()">Update</button>
    <button class="btn btn-danger" ng-click="model.commentFlag = !model.commentFlag">Cancel</button>
</div>

    <h2>Comments </h2>

    <table class="table table-responsive">
        <tr ng-repeat="comment in model.comments">
        <td><a href="#/profile/{{comment.userID}}">User: {{comment.username}}</a></td>
        <td>Comment: {{comment.comment}}</td>
            <td></td>
        </tr>

        </table>


</div>
</div>


</body>
</html>







